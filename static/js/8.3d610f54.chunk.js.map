{"version":3,"file":"static/js/8.3d610f54.chunk.js","mappings":"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","sources":["../../node_modules/pdfjs-dist/build|lazy|referencedExports: [[\"WorkerMessageHandler\"]]|groupOptions: {}|strict namespace object","../../src/PDFViewer/index.js","../../src/withLocale.js","../../src/locale/zh-CN.js","../../src/locale/en-US.js","../../src/LocationLayer/index.js","../../node_modules/lodash/_freeGlobal.js","../../node_modules/lodash/_root.js","../../node_modules/lodash/_Symbol.js","../../node_modules/lodash/_getRawTag.js","../../node_modules/lodash/_objectToString.js","../../node_modules/lodash/_baseGetTag.js","../../node_modules/lodash/isObject.js","../../node_modules/lodash/isFunction.js","../../node_modules/lodash/_coreJsData.js","../../node_modules/lodash/_isMasked.js","../../node_modules/lodash/_toSource.js","../../node_modules/lodash/_baseIsNative.js","../../node_modules/lodash/_getValue.js","../../node_modules/lodash/_getNative.js","../../node_modules/lodash/_Map.js","../../node_modules/lodash/_nativeCreate.js","../../node_modules/lodash/isObjectLike.js","../../node_modules/lodash/_baseIsArguments.js","../../node_modules/lodash/isArguments.js","../../node_modules/lodash/stubFalse.js","../../node_modules/lodash/isBuffer.js","../../node_modules/lodash/_nodeUtil.js","../../node_modules/lodash/_DataView.js","../../node_modules/lodash/_Promise.js","../../node_modules/lodash/_Set.js","../../node_modules/lodash/_WeakMap.js","../../node_modules/lodash/_getTag.js","../../src/signPdfFile.js","../../src/PDFSign.js","../../src/useSignature.js"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 59169;\nmodule.exports = webpackEmptyAsyncContext;","import { Document, Page, pdfjs } from 'react-pdf';\nimport { useMemo, useState } from 'react';\nimport { usePreset } from '@kne/global-context';\nimport useResize from '@kne/use-resize';\nimport classnames from 'classnames';\nimport { Spin, Flex } from 'antd';\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\nimport style from '../style.module.scss';\nimport 'react-pdf/dist/Page/TextLayer.css';\nimport 'react-pdf/dist/Page/AnnotationLayer.css';\n\nconst PDFViewer = ({ className, defaultPage, apis: propsApis, pdfjsUrl: pdfjsUrlProps, url, maxWidth = 1200, children }) => {\n  const { apis: baseApis } = usePreset();\n  const apis = Object.assign({}, baseApis, propsApis);\n  const pdfjsUrl = pdfjsUrlProps || apis.file?.pdfjsUrl || 'https://cdn.jsdelivr.net/npm/pdfjs-dist@5.4.296';\n  pdfjs.GlobalWorkerOptions.workerSrc = pdfjsUrl + '/build/pdf.worker.min.mjs';\n  const documentProps = useMemo(() => {\n    return {\n      file: url,\n      options: {\n        standardFontDataUrl: pdfjsUrl + '/standard_fonts/',\n        cMapUrl: pdfjsUrl + '/cmaps/',\n        cMapPacked: true\n      }\n    };\n  }, [pdfjsUrl, url]);\n  const [width, setWidth] = useState(maxWidth);\n  const [size, setSize] = useState(null);\n  const [pageSize, setPageSize] = useState(0);\n  const [currentPage, setCurrentPage] = useState(defaultPage || 1);\n  const ref = useResize(() => {\n    if (ref.current && ref.current.clientWidth) {\n      setWidth(Math.min(ref.current.clientWidth, maxWidth));\n    }\n  });\n  return (\n    <div\n      ref={ref}\n      className={classnames(className, style['pdf-view-container'], 'pdf-view-container')}\n      style={{\n        maxWidth: maxWidth\n      }}\n    >\n      <div className={classnames(style['pdf-view'], 'pdf-view')}>\n        <Document\n          {...Object.assign({}, documentProps)}\n          loading={\n            <Flex justify=\"center\">\n              <Spin />\n            </Flex>\n          }\n          onLoadSuccess={({ numPages, ...props }) => {\n            setPageSize(numPages);\n            if (!Number.isInteger(defaultPage)) {\n              setCurrentPage(numPages);\n            }\n          }}\n        >\n          <Page\n            width={width}\n            pageNumber={currentPage}\n            renderTextLayer={true}\n            onLoadSuccess={page => {\n              setSize({ width: Math.round(page.width), height: Math.round(page.height), originalWidth: page.originalWidth, originalHeight: page.originalHeight });\n            }}\n          />\n        </Document>\n      </div>\n      {size && children && <div className={classnames(style['pdf-view-children'], 'pdf-view-children')}>{typeof children === 'function' ? children({ size, currentPage, pageSize }) : children}</div>}\n      <div className={classnames(style['pdf-view-page-control'], 'pdf-view-page-control')}>\n        {currentPage > 1 && (\n          <LeftOutlined\n            className={classnames(style['pdf-view-page-control-left'], 'pdf-view-page-control-left')}\n            onClick={() => {\n              setCurrentPage(currentPage - 1);\n            }}\n          />\n        )}\n        {currentPage < pageSize && (\n          <RightOutlined\n            className={classnames(style['pdf-view-page-control-right'], 'pdf-view-page-control-right')}\n            onClick={() => {\n              setCurrentPage(currentPage + 1);\n            }}\n          />\n        )}\n        {pageSize ? (\n          <div className={classnames(style['pdf-view-page-control-current'], 'pdf-view-page-control-current')}>\n            {currentPage}/{pageSize}\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default PDFViewer;\n","import { createWithIntlProvider } from '@kne/react-intl';\nimport zhCN from './locale/zh-CN';\nimport enUS from './locale/en-US';\n\nconst withLocale = createWithIntlProvider({\n  defaultLocale: 'zh-CN',\n  messages: {\n    'zh-CN': zhCN,\n    'en-US': enUS\n  },\n  namespace: 'react-pdf-sign'\n});\n\nexport default withLocale;\n","const locale = {\n  locationLayerPlaceholder: '签名区域',\n  loadingError: 'PDF尚未加载成功，请稍后重试',\n  signatureDefaultTitle: '签名',\n  signatureConfirmText: '确认',\n  signatureCancelText: '取消',\n  signatureEmptyError: '签名内容不能为空',\n  signatureSuccess: '签名成功'\n};\n\nexport default locale;\n","const locale = {\n  locationLayerPlaceholder: 'Signature Area',\n  loadingError: 'PDF is not loaded successfully, please try again later',\n  signatureDefaultTitle: 'Signature',\n  signatureConfirmText: 'Confirm',\n  signatureCancelText: 'Cancel',\n  signatureEmptyError: 'Signature content cannot be empty',\n  signatureSuccess: 'Signature Success'\n};\n\nexport default locale;\n","import { Stage, Layer, Text, Transformer, Rect, Group, Image } from 'react-konva';\nimport { useRef, useEffect, useMemo, useState } from 'react';\nimport useControlValue from '@kne/use-control-value';\nimport useRefCallback from '@kne/use-ref-callback';\nimport useImage from 'use-image';\nimport withLocale from '../withLocale';\nimport { useIntl } from '@kne/react-intl';\n\nconst LocationLayer = withLocale(p => {\n  const { formatMessage } = useIntl();\n  const { width = 200, height = 80, padding = 8, stageWidth, stageHeight, placeholder = formatMessage({ id: 'locationLayerPlaceholder' }), signature, ...props } = p;\n  const [value, setValue] = useControlValue(props);\n  const [isInit, setIsInit] = useState(false);\n  const [signatureImage] = useImage(signature);\n  const groupRef = useRef();\n  const signRef = useRef();\n  const transformerRef = useRef();\n  const computedSignLocation = () => {\n    const absolutePosition = signRef.current.absolutePosition();\n    const size = signRef.current.getClientRect();\n    setValue({\n      size: {\n        width: Math.round(size.width),\n        height: Math.round(size.height),\n        x: Math.round(absolutePosition.x),\n        y: Math.round(absolutePosition.y)\n      },\n      scaleX: Number(groupRef.current.attrs.scaleX.toFixed(2)),\n      scaleY: Number(groupRef.current.attrs.scaleY.toFixed(2)),\n      x: Math.round(groupRef.current.attrs.x),\n      y: Math.round(groupRef.current.attrs.y)\n    });\n  };\n\n  const initValue = useRefCallback(() => {\n    if (['scaleX', 'scaleY', 'x', 'y', 'size'].some(name => !Object.assign({}, value).hasOwnProperty(name))) {\n      setValue({\n        scaleX: 1,\n        scaleY: 1,\n        x: Math.round((stageWidth - width) / 2),\n        y: Math.round((stageHeight - height) / 2),\n        size: {\n          width,\n          height,\n          x: Math.round((stageWidth - width) / 2),\n          y: Math.round((stageHeight - height) / 2)\n        }\n      });\n    }\n    setIsInit(true);\n  });\n\n  const themeColor = useMemo(() => {\n    const el = document.createElement('div');\n    el.style.color = 'var(--primary-color)';\n    document.body.appendChild(el);\n    const color = window.getComputedStyle(el).color;\n    document.body.removeChild(el);\n    return color;\n  }, []);\n\n  useEffect(() => {\n    initValue();\n  }, []);\n\n  useEffect(() => {\n    if (isInit) {\n      transformerRef.current.nodes([groupRef.current]);\n    }\n  }, [isInit]);\n  if (!(isInit && value)) {\n    return null;\n  }\n\n  return (\n    <Stage width={stageWidth} height={stageHeight}>\n      <Layer>\n        <Group x={value.x} y={value.y} draggable ref={groupRef} onDragEnd={computedSignLocation} scaleX={value.scaleX} scaleY={value.scaleY} onTransformEnd={computedSignLocation}>\n          {signatureImage ? <Image width={width} height={height} image={signatureImage} cornerRadius={8} ref={signRef} /> : <Rect width={width} height={height} fill=\"#f0f0f0\" cornerRadius={8} ref={signRef} />}\n          <Text text={signatureImage ? '' : placeholder} fontSize={16} fill=\"#666666\" fontFamily=\"Arial\" align=\"center\" verticalAlign=\"middle\" width={width} height={height} />\n        </Group>\n        <Transformer ref={transformerRef} keepRatio={true} flipEnabled={false} rotateEnabled={false} borderStroke={themeColor} rotateAnchorStroke={themeColor} anchorStroke={themeColor} padding={padding} />\n      </Layer>\n    </Stage>\n  );\n});\n\nexport default LocationLayer;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","import { PDFDocument } from 'pdf-lib';\n\nconst signPdfFile = async pdfSignature => {\n  const { x, y, page, width, height, signature, url, filename } = pdfSignature;\n  const response = await window.fetch(url);\n  const pdfBytes = await response.arrayBuffer();\n  const pdfDoc = await PDFDocument.load(pdfBytes);\n  const pdfPage = pdfDoc.getPage(page - 1);\n\n  const signatureBytes = await window.fetch(signature).then(res => res.arrayBuffer());\n  const signatureImageEmbed = await pdfDoc.embedPng(signatureBytes);\n\n  pdfPage.drawImage(signatureImageEmbed, {\n    x,\n    y,\n    width,\n    height\n  });\n\n  const modifiedPdfBytes = await pdfDoc.save();\n  return new window.File([modifiedPdfBytes], filename, { type: 'application/pdf' });\n};\n\nexport default signPdfFile;\n","import PDFViewer from './PDFViewer';\nimport LocationLayer from './LocationLayer';\nimport { useState, forwardRef, useImperativeHandle, useMemo, useCallback, useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { useIntl } from '@kne/react-intl';\nimport withLocale from './withLocale';\nimport useRefCallback from '@kne/use-ref-callback';\nimport signPdfFile from './signPdfFile';\n\nconst PDFSignInner = forwardRef(({ size, currentPage, placeholder, signature, url, width = 200, height = 80, padding, filename = 'signed-document.pdf', defaultLocation, onChange }, ref) => {\n  const initLocation = useMemo(() => {\n    return {\n      scaleX: 1,\n      scaleY: 1,\n      x: Math.round((size.width - width) / 2),\n      y: Math.round((size.height - height) / 2),\n      size: {\n        width,\n        height,\n        x: Math.round((size.width - width) / 2),\n        y: Math.round((size.height - height) / 2)\n      }\n    };\n  }, [size, width, height]);\n  const [location, setLocationOrigin] = useState(Object.assign({}, initLocation, defaultLocation));\n  const setLocation = useRefCallback(value => {\n    setLocationOrigin(Object.assign({}, initLocation, value));\n  });\n  const pdfSignature = useMemo(() => {\n    const scaleX = size.width / size.originalWidth;\n    const scaleY = size.height / size.originalHeight;\n    const pdfX = Math.round(location.size.x / scaleX);\n    const pdfY = Math.round(size.originalHeight - location.size.y / scaleY);\n    const signWidth = Math.round(location.size.width / scaleX);\n    const signHeight = Math.round(location.size.height / scaleY);\n\n    return {\n      x: pdfX,\n      y: pdfY - signHeight,\n      page: currentPage,\n      pageWidth: Math.round(size.originalWidth),\n      pageHeight: Math.round(size.originalHeight),\n      width: signWidth,\n      height: signHeight,\n      signature,\n      url,\n      filename\n    };\n  }, [location, signature, url, filename, size, currentPage]);\n  const signPdf = useCallback(async () => {\n    return await signPdfFile(pdfSignature);\n  }, [pdfSignature]);\n\n  useImperativeHandle(ref, () => ({\n    getLocation: () => location,\n    setLocation: value => setLocation(value),\n    getPdfSignature: () => pdfSignature,\n    sign: () => signPdf()\n  }));\n\n  const handlerChange = useRefCallback(onChange);\n\n  useEffect(() => {\n    handlerChange?.({ pdfSignature, location });\n  }, [pdfSignature, location, handlerChange]);\n\n  return <LocationLayer stageWidth={size.width} stageHeight={size.height} width={width} height={height} padding={padding} placeholder={placeholder} signature={signature} value={location} onChange={setLocation} />;\n});\n\nconst PDFSign = withLocale(\n  forwardRef(({ placeholder, signature, url, width, height, padding, filename = 'signed-document.pdf', defaultLocation, onChange, ...props }, ref) => {\n    return (\n      <PDFViewer {...props} url={url}>\n        {({ size, currentPage }) => {\n          return <PDFSignInner ref={ref} size={size} currentPage={currentPage} url={url} filename={filename} width={width} height={height} padding={padding} placeholder={placeholder} signature={signature} onChange={onChange} />;\n        }}\n      </PDFViewer>\n    );\n  })\n);\n\nexport default PDFSign;\n","import SignatureCanvas from 'react-signature-canvas';\nimport { App, Button, Flex } from 'antd';\nimport classnames from 'classnames';\nimport { useRef } from 'react';\nimport withLocale from './withLocale';\nimport { useIntl } from '@kne/react-intl';\nimport { snapdom } from '@zumer/snapdom';\nimport style from './style.module.scss';\n\nconst dataURLtoBlob = dataURL => {\n  let arr = dataURL.split(',');\n  // 注意base64的最后面中括号和引号是不转译的\n  let _arr = arr[1].substring(0, arr[1].length - 2);\n  let mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(_arr),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new Blob([u8arr], {\n    type: mime\n  });\n};\n\nconst Signature = withLocale(({ onClose, onSuccess, filename, width, height, mask = null }) => {\n  const { formatMessage } = useIntl();\n  const { message } = App.useApp();\n  const signatureCanvasRef = useRef(null);\n  const maskRef = useRef(null);\n  return (\n    <Flex vertical gap={12} className={classnames(style['signature-modal-content'], 'signature-modal-content')}>\n      <div\n        className={classnames(style['signature-container'], 'signature-container')}\n        style={{\n          width: '368px',\n          height: `${Math.round((height * 368) / width)}px`\n        }}\n      >\n        <div className={classnames(style['signature-mask'], 'signature-mask')} ref={maskRef}>\n          {mask}\n        </div>\n        <SignatureCanvas ref={signatureCanvasRef} canvasProps={{ className: classnames(style['signature-canvas'], 'signature-canvas') }} />\n      </div>\n      <Flex justify=\"flex-end\" align=\"center\" gap={10}>\n        <Button\n          onClick={() => {\n            onClose();\n          }}\n        >\n          {formatMessage({ id: 'signatureCancelText' })}\n        </Button>\n        <Button\n          type=\"primary\"\n          onClick={async () => {\n            if (signatureCanvasRef.current.isEmpty()) {\n              message.error(formatMessage({ id: 'signatureEmptyError' }));\n              return;\n            }\n\n            let result = signatureCanvasRef.current.toDataURL('image/png');\n\n            if (mask) {\n              const maskPng = await snapdom.toPng(maskRef.current, {\n                scale: 2\n              });\n              const canvas = document.createElement('canvas');\n              canvas.width = width * 2;\n              canvas.height = height * 2;\n              const ctx = canvas.getContext('2d');\n              ctx.drawImage(maskPng, 0, 0, canvas.width, canvas.height);\n              const resultImage = new Image();\n              resultImage.src = result;\n              await new Promise(resolve => {\n                resultImage.onload = resolve;\n              });\n              ctx.drawImage(resultImage, 0, 0, canvas.width, canvas.height);\n              result = canvas.toDataURL('image/png');\n            }\n\n            const file = new window.File([dataURLtoBlob(result)], filename, { type: 'image/png' });\n            onClose();\n            onSuccess(file);\n          }}\n        >\n          {formatMessage({ id: 'signatureConfirmText' })}\n        </Button>\n      </Flex>\n    </Flex>\n  );\n});\n\nconst Title = withLocale(() => {\n  const { formatMessage } = useIntl();\n  return <span>{formatMessage({ id: 'signatureDefaultTitle' })}</span>;\n});\n\nconst useSignature = () => {\n  const { modal } = App.useApp();\n  return props => {\n    const { filename = 'signature.png', onSuccess, width = 200, height = 80, mask, ...modalProps } = Object.assign({}, props);\n    const modalApi = modal.info(\n      Object.assign(\n        {},\n        {\n          title: <Title />,\n          icon: null,\n          footer: null,\n          wrapClassName: style['signature-modal'],\n          classNames: {\n            content: style['signature-modal']\n          }\n        },\n        modalProps,\n        {\n          content: (\n            <Signature\n              width={width}\n              height={height}\n              mask={mask}\n              filename={filename}\n              onSuccess={onSuccess}\n              onClose={() => {\n                modalApi.destroy();\n              }}\n            />\n          )\n        }\n      )\n    );\n\n    return modalApi;\n  };\n};\n\nexport default useSignature;\n"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","PDFViewer","_ref2","className","defaultPage","apis","propsApis","pdfjsUrl","pdfjsUrlProps","url","maxWidth","_maxWidth","children","_apis$file","baseApis","usePreset","Object","assign","file","pdfjs","workerSrc","documentProps","useMemo","options","standardFontDataUrl","cMapUrl","cMapPacked","width","setWidth","useState","size","setSize","pageSize","setPageSize","currentPage","setCurrentPage","ref","useResize","current","clientWidth","Math","min","jsxs","classnames","style","jsx","Document","_extends","loading","Flex","justify","Spin","onLoadSuccess","_ref","numPages","_objectWithoutPropertiesLoose","_excluded$3","Number","isInteger","Page","pageNumber","renderTextLayer","page","round","height","originalWidth","originalHeight","LeftOutlined","onClick","RightOutlined","withLocale","createWithIntlProvider","defaultLocale","messages","locationLayerPlaceholder","loadingError","signatureDefaultTitle","signatureConfirmText","signatureCancelText","signatureEmptyError","signatureSuccess","namespace","LocationLayer","p","formatMessage","useIntl","padding","stageWidth","stageHeight","placeholder","signature","props","_excluded$2","value","setValue","useControlValue","isInit","setIsInit","signatureImage","useImage","groupRef","useRef","signRef","transformerRef","computedSignLocation","absolutePosition","getClientRect","x","y","scaleX","attrs","toFixed","scaleY","initValue","useRefCallback","some","name","hasOwnProperty","themeColor","el","document","createElement","color","body","appendChild","window","getComputedStyle","removeChild","useEffect","nodes","Stage","Layer","Group","draggable","onDragEnd","onTransformEnd","Image$1","image","cornerRadius","Rect","fill","Text","text","fontSize","fontFamily","align","verticalAlign","Transformer","keepRatio","flipEnabled","rotateEnabled","borderStroke","rotateAnchorStroke","anchorStroke","_freeGlobal","commonjsGlobal","freeSelf","self","_root","Function","_Symbol","Symbol","objectProto$3","prototype","hasOwnProperty$2","nativeObjectToString$1","toString","symToStringTag$1","toStringTag","undefined","_getRawTag","isOwn","call","tag","unmasked","result","nativeObjectToString","_objectToString","symToStringTag","_baseGetTag","isObject_1","type","isFunction_1","_coreJsData","maskSrcKey","uid","exec","IE_PROTO","_isMasked","func","funcToString$1","_toSource","reIsHostCtor","funcProto","objectProto$1","funcToString","hasOwnProperty$1","reIsNative","RegExp","replace","_baseIsNative","test","_getValue","object","key","_getNative","_Map","isObjectLike_1","_baseIsArguments","objectProto","propertyIsEnumerable","arguments","stubFalse_1","freeExports","nodeType","freeModule","Buffer","isBuffer","freeProcess","process","nodeUtil","types","require","binding","_DataView","_Promise","_Set","_WeakMap","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","Ctor","constructor","ctorString","PDFSignInner","forwardRef","_ref3","_width","_height","filename","_filename","defaultLocation","onChange","initLocation","location","setLocationOrigin","setLocation","pdfSignature","pdfX","pdfY","signWidth","signHeight","pageWidth","pageHeight","signPdf","useCallback","async","response","fetch","pdfBytes","arrayBuffer","pdfDoc","PDFDocument","load","pdfPage","getPage","signatureBytes","res","signatureImageEmbed","embedPng","drawImage","modifiedPdfBytes","save","File","signPdfFile","useImperativeHandle","getLocation","getPdfSignature","sign","handlerChange","PDFSign","_excluded$1","_ref4","dataURLtoBlob","dataURL","arr","split","_arr","substring","length","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","Blob","Signature","_ref5","onClose","onSuccess","mask","_mask","message","App","useApp","signatureCanvasRef","maskRef","vertical","gap","concat","SignatureCanvas","canvasProps","Button","isEmpty","error","toDataURL","maskPng","snapdom","toPng","scale","canvas","ctx","getContext","resultImage","Image","src","onload","Title","useSignature","modal","_Object$assign","modalProps","_excluded","modalApi","info","title","icon","footer","wrapClassName","classNames","content","destroy"],"ignoreList":[],"sourceRoot":""}